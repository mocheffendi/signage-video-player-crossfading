<!DOCTYPE html>
<html>
  <head>
    <title>Signage Player for Video & Image</title>
    <style>
      html,
      /* Optional: hide scrollbar when not needed */
      body {
        margin: 0;
        padding: 0;
        scrollbar-gutter: stable;
      }
      .media {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: opacity 1s ease-in-out;
      }
      .hidden {
        opacity: 0;
        pointer-events: none;
      }
      .visible {
        opacity: 1;
      }

      .playlist-item {
        padding: 5px 10px;
        cursor: pointer;
      }
      .playlist-item:hover {
        background: #555;
        color: white;
      }

      #videoSlider {
        width: 100%;
        max-width: 100%;
        margin: 0.5rem 0;
      }

      #videoTime {
        font-family: monospace;
        color: #ffffff;
        margin-left: 10px;
      }

      .slider-container {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      /* Scrollbar for dark mode */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #1e1e1e;
      }
      ::-webkit-scrollbar-thumb {
        background-color: #4b5563;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background-color: #60a5fa; /* blue-400 */
      }
      .drag-area {
        -webkit-app-region: drag;
      }
      button,
      input,
      select {
        -webkit-app-region: no-drag;
      }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div class="p-6 bg-zinc-900 text-white font-sans min-h-screen space-y-6">
      <h2 class="text-xl font-bold">🎞️ Playlist</h2>

      <div class="flex gap-2">
        <button
          id="addBtn"
          class="bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded-md text-white text-sm"
        >
          ➕ Add File
        </button>
        <button
          id="btnUp"
          class="bg-zinc-700 hover:bg-zinc-600 px-4 py-2 rounded-md text-sm"
        >
          ⬆️ Naik
        </button>
        <button
          id="btnDown"
          class="bg-zinc-700 hover:bg-zinc-600 px-4 py-2 rounded-md text-sm"
        >
          ⬇️ Turun
        </button>
        <button
          id="btnSettings"
          class="bg-zinc-700 hover:bg-zinc-600 px-4 py-2 rounded-md text-sm"
        >
          ⚙️ Setting
        </button>
        <div class="pt-3">
          <label class="inline-flex items-center gap-2">
            <input
              type="checkbox"
              id="alwaysOnTop"
              class="accent-blue-500 w-4 h-4"
            />
            <span>Always on Top</span>
          </label>
        </div>
        <button
          id="btnLaporan"
          class="bg-green-600 hover:bg-green-500 px-4 py-2 rounded-md text-white text-sm"
        >
          📄 Laporan
        </button>
      </div>
      <ul
        id="playlistBox"
        class="space-y-1 text-sm overflow-y-auto max-h-80 pr-1"
      ></ul>

      <div class="flex items-center gap-4">
        <input
          type="range"
          id="videoSlider"
          min="0"
          max="100"
          step="0.1"
          class="w-64 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-blue-500"
        />
        <span id="videoTime" class="text-sm font-mono text-gray-300"
          >00:00 / 00:00</span
        >
      </div>
    </div>
    <!-- Modal Edit Durasi -->
    <div
      id="modalOverlay"
      class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50"
    >
      <div
        class="bg-zinc-800 rounded-xl p-6 w-full max-w-sm shadow-xl border border-zinc-700"
      >
        <h2 class="text-lg font-semibold text-white mb-4">
          Edit Durasi Gambar
        </h2>
        <input
          id="durationInput"
          type="number"
          min="1"
          class="w-full rounded-md px-3 py-2 bg-zinc-700 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
          placeholder="Durasi (detik)"
        />
        <div class="mt-4 flex justify-end gap-3">
          <button
            id="cancelEdit"
            class="px-4 py-2 text-sm text-gray-300 bg-zinc-600 hover:bg-zinc-500 rounded-md"
          >
            Batal
          </button>
          <button
            id="saveEdit"
            class="px-4 py-2 text-sm text-white bg-blue-600 hover:bg-blue-500 rounded-md"
          >
            Simpan
          </button>
        </div>
      </div>
    </div>
    <!-- Modal Konfirmasi Hapus -->
    <div
      id="deleteModal"
      class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50"
    >
      <div
        class="bg-zinc-800 rounded-xl p-6 w-full max-w-sm shadow-xl border border-zinc-700"
      >
        <h2 class="text-lg font-semibold text-white mb-4">Hapus Item</h2>
        <p class="text-gray-300 mb-4">
          Apakah kamu yakin ingin menghapus item ini dari playlist?
        </p>
        <div class="flex justify-end gap-3">
          <button
            id="cancelDelete"
            class="px-4 py-2 text-sm text-gray-300 bg-zinc-600 hover:bg-zinc-500 rounded-md"
          >
            Batal
          </button>
          <button
            id="confirmDelete"
            class="px-4 py-2 text-sm text-white bg-red-600 hover:bg-red-500 rounded-md"
          >
            Ya, Hapus
          </button>
        </div>
      </div>
    </div>
    <!-- Modal Settings -->
    <div
      id="settingsModal"
      class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50"
    >
      <div
        class="bg-zinc-800 rounded-xl p-6 w-full max-w-sm shadow-xl border border-zinc-700"
      >
        <h2 class="text-lg font-semibold text-white mb-4">
          Mini Player Settings
        </h2>

        <div class="grid grid-cols-2 gap-4">
          <label class="block text-white"
            >X:
            <input
              type="number"
              id="posSetX"
              class="w-full px-2 py-1 bg-zinc-700 rounded-md text-white"
            />
          </label>
          <label class="block text-white"
            >Y:
            <input
              type="number"
              id="posSetY"
              class="w-full px-2 py-1 bg-zinc-700 rounded-md text-white"
            />
          </label>
          <label class="block text-white"
            >Width:
            <input
              type="number"
              id="sizeSetW"
              class="w-full px-2 py-1 bg-zinc-700 rounded-md text-white"
            />
          </label>
          <label class="block text-white"
            >Height:
            <input
              type="number"
              id="sizeSetH"
              class="w-full px-2 py-1 bg-zinc-700 rounded-md text-white"
            />
          </label>
        </div>

        <div class="pt-4 flex justify-end gap-3">
          <button
            id="btnSetCancel"
            class="px-3 py-2 text-sm bg-zinc-600 hover:bg-zinc-500 rounded-md text-gray-200"
          >
            Batal
          </button>
          <button
            id="btnSetApply"
            class="px-3 py-2 text-sm bg-blue-600 hover:bg-blue-500 rounded-md text-white"
          >
            Apply
          </button>
        </div>
      </div>
    </div>
    <!-- Modal Laporan -->
    <div
      id="laporanModal"
      class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50"
    >
      <div
        class="bg-zinc-800 text-sm text-white rounded-xl p-6 w-full max-w-2xl max-h-[80vh] shadow-xl overflow-auto border border-zinc-700"
      >
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-lg font-bold">📋 Riwayat Pemutaran Media</h2>
          <button
            id="closeLaporan"
            class="text-red-400 hover:text-red-200 text-xl"
          >
            ✖
          </button>
        </div>
        <div class="flex flex-wrap items-center gap-3 mb-4">
          <label class="text-sm">
            Dari:
            <input
              type="date"
              id="filterStart"
              class="ml-1 rounded px-2 py-1 bg-zinc-700 text-white text-sm"
            />
          </label>
          <label class="text-sm">
            Sampai:
            <input
              type="date"
              id="filterEnd"
              class="ml-1 rounded px-2 py-1 bg-zinc-700 text-white text-sm"
            />
          </label>
          <button
            id="btnFilterLog"
            class="bg-blue-600 hover:bg-blue-500 px-3 py-1 rounded-md text-white text-sm"
          >
            🔍 Filter
          </button>
          <button
            id="btnResetFilter"
            class="bg-zinc-600 hover:bg-zinc-500 px-3 py-1 rounded-md text-gray-200 text-sm"
          >
            🔄 Reset
          </button>
          <button
            id="btnExportXLSX"
            class="bg-green-600 hover:bg-green-500 px-3 py-1 rounded-md text-white text-sm"
          >
            📤 Export XLSX
          </button>
        </div>

        <div class="overflow-auto max-h-[60vh]">
          <table
            id="laporanTable"
            class="min-w-full table-auto border-collapse text-sm text-left text-white"
          >
            <thead class="bg-zinc-700 sticky top-0">
              <tr>
                <th class="px-3 py-2 border-b border-zinc-600">No</th>
                <th class="px-3 py-2 border-b border-zinc-600">Tanggal</th>
                <th class="px-3 py-2 border-b border-zinc-600">Nama File</th>
                <th class="px-3 py-2 border-b border-zinc-600">
                  Durasi (detik)
                </th>
                <th class="px-3 py-2 border-b border-zinc-600">Jam Mulai</th>
                <th class="px-3 py-2 border-b border-zinc-600">Jam Selesai</th>
              </tr>
            </thead>
            <tbody
              id="laporanBody"
              class="bg-zinc-800 divide-y divide-zinc-700"
            >
              <!-- data baris akan dimasukkan di sini -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <script src="renderer.js"></script>
  </body>
</html>
